<div *ngIf="recipeObs | async as myRecipe">
  <div class="title" >
    <h1>{{myRecipe.name}}</h1>
    <div class="breadcrumb" fxLayout="row" fxLayoutAlign="end center">
      <span><a (click)="goToSearch('')">Menu</a></span>
      <span> > </span>
      <span *ngFor="let category of myRecipe.categories">
        <span><a (click)="goToSearch(category.category)">{{category.category}}</a></span>
      </span>
    </div>

    <div class="buttons">
      <button mat-button (click)="openDialog()" ><mat-icon class="price-icon">attach_money</mat-icon></button>
      <button mat-button ><mat-icon class="price-icon">favorite_border</mat-icon></button>
    </div>
  </div>

  <form [formGroup]="form"
        fxLayout="row"
        fxLayout.xs = "column"
        fxLayoutAlign="space-between start">

    <div class="data">
      <div class="infos-mobile" fxLayoutAlign="center" fxShow="false" fxShow.xs="true">
        <div class="container-info">
          <img [src]="imageUrl" alt="{{myRecipe.name}}" class="food-image">
          <p fxLayoutAlign="start center" *ngIf="myRecipe.prep_time !== undefined">
            <mat-icon> timer</mat-icon>
            <b>Prep time:</b>{{myRecipe.prep_time}} minutes
          </p>
          <p fxLayoutAlign="start center" *ngIf="myRecipe.cook_time !== undefined">
            <mat-icon> timer</mat-icon>
            <b>Cook time:</b>{{myRecipe.cook_time}} minutes
          </p>
          <p fxLayoutAlign="start center" *ngIf="myRecipe.prep_time !== undefined && myRecipe.cook_time !== undefined">
            <mat-icon> timer</mat-icon>
            <b>Total time:</b>{{myRecipe.prep_time + myRecipe.cook_time}} minutes
          </p>
          <p fxLayoutAlign="start center"><mat-icon> restaurant</mat-icon> <b>Servings:</b>
            <input type="number" formControlName = 'number_servings'>
          </p>
        </div>
      </div>

      <div class="ingredients">
        <h2>Ingredients:</h2>
        <ul>
          <li *ngFor="let item of myRecipe.ingredients">
            <div class="ingredient-container" fxLayout="row wrap" fxLayoutAlign="center end" fxLayoutGap="0px">

              <div fxFlex="50%" fxFlex.xs="100%" >
                <div class="grid-item" fxLayout="row" fxFlexAlign="center">
                  <img [src]="ingredientsUrl+item.image" class="ingredient-image" alt="gdf">
                  <span class="ingredient-name">{{item.name}}</span>
                </div>
              </div>

              <div fxFlex="50%" fxFlex.xs="100%" fxShow="true" fxShow.xs="false">
                <div class="ingredient-amount">
                  <input type="number" formControlName="{{item.id + '_amount'}}">
                  {{item.unit}}
                </div>
              </div>

              <div fxFlex="50%" fxFlex.xs="100%">
                <div class="ingredient-description"> {{item.description}} </div>
              </div>

              <div fxFlex="50%" fxFlex.xs="100%" fxShow="false" fxShow.xs="true">
                <div class="ingredient-amount">
                  <input type="number" formControlName="{{item.id + '_amount'}}">
                  {{item.unit}}  </div>
              </div>

              <div fxFlex="50%" fxFlex.xs="100%">
                <div class="ingredient-amount">
                  <input type="number" formControlName="{{item.id + '_grams'}}">
                  grams
                </div>
              </div>
            </div>
          </li>
        </ul>
      </div>

      <div class="directions">
        <h2>Directions:</h2>
        <p class="note">Note: Directions are based on the original recipe of {{myRecipe.number_servings}} servings.</p>
        <ul>
          <li *ngFor="let item of myRecipe.directions">
            <div class="row-instruction" fxLayout="row" fxLayoutAlign="start center" fxLayoutGap="10">
              <div class="order">{{ item.order }}</div>
              <span class="instruction"> {{ item.instruction }}</span>
            </div>
          </li>
        </ul>
      </div>
    </div>

    <div class="infos" fxShow="true" fxShow.xs="false">
      <div class="container-info">
        <img [src]="imageUrl" alt="{{myRecipe.name}}" class="food-image">
        <p fxLayoutAlign="start center" *ngIf="myRecipe.prep_time !== undefined">
          <mat-icon> timer</mat-icon>
          <b>Prep time:</b> {{myRecipe.prep_time}} minutes
        </p>
        <p fxLayoutAlign="start center" *ngIf="myRecipe.cook_time !== undefined">
          <mat-icon> timer</mat-icon>
          <b>Cook time:</b> {{myRecipe.cook_time}}minutes</p>
        <p fxLayoutAlign="start center" *ngIf="myRecipe.prep_time !== undefined && myRecipe.cook_time !== undefined">
          <mat-icon> timer</mat-icon>
          <b>Total time:</b> {{myRecipe.prep_time + myRecipe.cook_time}} minutes
        </p>
        <p fxLayoutAlign="start center"><mat-icon> restaurant</mat-icon> <b>Servings:</b>
          <input type="number" formControlName = 'number_servings'>
        </p>
      </div>
    </div>
  </form>
</div>
